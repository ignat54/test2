import streamlit as st


def calculate_risk(form_data):
    total_score = sum(form_data.values())

    if total_score <= 3:
        risk_level = "–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫ –°–°–ó"
    elif total_score <= 9:
        risk_level = "–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫ –°–°–ó"
    else:
        risk_level = "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –°–°–ó"

    return total_score, risk_level


st.title("ü©∫ –¢–µ—Å—Ç –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞ —Ä–∞–∑–≤–∏—Ç–∏—è –°–°–ó")

st.markdown("""
<style>
    .stRadio > div { flex-direction: column; }
    .stButton button { background-color: #4CAF50; color: white; }
</style>
""", unsafe_allow_html=True)

form_data = {}

form_data['gender'] = st.radio("1) –ü–æ–ª:", [(
    "", -1), ("–ú—É–∂—á–∏–Ω–∞", 1), ("–ñ–µ–Ω—â–∏–Ω–∞", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['age'] = st.radio("2) –í–æ–∑—Ä–∞—Å—Ç:", [(
    "", -1), ("–ë–æ–ª—å—à–µ 40 –ª–µ—Ç", 1), ("–ú–µ–Ω—å—à–µ 40 –ª–µ—Ç", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['smoking'] = st.radio("3) –ö—É—Ä–µ–Ω–∏–µ:", [(
    "", -1), ("–î–∞", 1), ("–ù–µ—Ç", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['waist'] = st.radio("4) –í–∞—à –æ–±—Ö–≤–∞—Ç —Ç–∞–ª–∏–∏ –≤ –Ω–æ—Ä–º–µ? (–î–ª—è –º—É–∂—á–∏–Ω < 94, –¥–ª—è –∂–µ–Ω—â–∏–Ω < 80):", [
                              ("", -1), ("–î–∞", 0), ("–ù–µ—Ç", 1)], format_func=lambda x: x[0], index=0)[1]
form_data['familyHistory'] = st.radio("5) –ò–º–µ—é—Ç—Å—è –ª–∏ –°–°–ó —É –±–ª–∏–∂–∞–π—à–∏—Ö —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤:", [
                                      ("", -1), ("–î–∞", 1), ("–ù–µ—Ç", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['cholesterol'] = st.radio("6) –£—Ä–æ–≤–µ–Ω—å —Ö–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω–∞:", [("", -1), ("–ú–µ–Ω–µ–µ 3,0", 0), ("3,0-3,9", 1),
                                    ("4,0-4,9", 2), ("5,0-5,9", 3), ("6,0-6,9", 4), ("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ", 1)], format_func=lambda x: x[0], index=0)[1]
form_data['bloodPressure'] = st.radio("7) –°–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (–≤–µ—Ä—Ö–Ω–µ–µ):", [(
    "", -1), ("–ú–µ–Ω–µ–µ 140", 0), ("140-159", 1), ("–ë–æ–ª–µ–µ 160", 2), ("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ", 1)], format_func=lambda x: x[0], index=0)[1]
form_data['chestPain'] = st.radio("8) –ë—ã–≤–∞—é—Ç –ª–∏ —É –≤–∞—Å –±–æ–ª–∏ –≤ –≥—Ä—É–¥–∏, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø–æ—Å–ª–µ —Å—Ç—Ä–µ—Å—Å–∞ –∏–ª–∏ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:", [
                                  ("", -1), ("–î–∞", 1), ("–ù–µ—Ç", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['palpitations'] = st.radio("9) –ë—ã–≤–∞—é—Ç –ª–∏ —É –≤–∞—Å –ø—Ä–∏—Å—Ç—É–ø—ã —É—á–∞—â–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã:", [
                                     ("", -1), ("–î–∞", 1), ("–ù–µ—Ç", 0)], format_func=lambda x: x[0], index=0)[1]
form_data['physicalActivity'] = st.radio("10) –ó–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –ª–∏ –≤—ã —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é:", [
                                         ("", -1), ("–î–∞", 0), ("–ù–µ—Ç", 1)], format_func=lambda x: x[0], index=0)[1]

if st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∏—Å–∫"):
    if -1 in form_data.values():
        st.error("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.")
    else:
        total_score, risk_level = calculate_risk(form_data)
        st.write(f"–í–∞—à –æ–±—â–∏–π —Ä–∏—Å–∫: **{total_score} –±–∞–ª–ª–æ–≤**. {risk_level}")
        if total_score <= 3:
            st.success("–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤–µ—Å—Ç–∏ –∑–¥–æ—Ä–æ–≤—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏!")
        elif total_score <= 9:
            st.warning(
                "–í–∞–º —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏ –∏ **–ø–ª–∞–Ω–æ–≤–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π –∫ –≤—Ä–∞—á—É-—Ç–µ—Ä–∞–ø–µ–≤—Ç—É**.")
        else:
            st.error(
                "–í–∞–º —Å–ª–µ–¥—É–µ—Ç **–∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π –∫ –≤—Ä–∞—á—É-—Ç–µ—Ä–∞–ø–µ–≤—Ç—É!**")
